import {Preview, Props} from '@storybook/addon-docs/blocks';
import Input from './Input';

# Input

The Input component renders a [HTML input element](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement) with a number of customization and validation options.

## Importing ðŸ“¦

You can use this component using one of the following import patterns.

```javascript
import Input from '@unitedincome/components/dist/Input';
```

```javascript
import {Input} from '@unitedincome/components';
```

## Example ðŸš€

<Preview>
  <Input
    label="Institution Name"
    type="text"
    placeholder="Bank Account"
    description="Not the right account? Visit the Manage Linked Accounts page."
    onChange={(name, value) => true}
    value="Montezuma!!!"
  />
</Preview>

```javascript
<Input
  label="Institution Name"
  type="text"
  placeholder="Bank Account"
  description="Not the right account? Visit the Manage Linked Accounts page."
  onChange={(name, value) => true}
  value="Montezuma!!!"
/>
```

### Masks

You can provide the `Input` component with a `mask` prop which will force a certain type of input value. The available masks can be found in the prop table and `Input.masks.js`.

### Multi-line inputs

You can create a multi-line input similar to an HTML text area with auto-resizing capability. Multi-line inputs do not support the `mask` prop.

<Preview>
  <Input
    label="Institution Names"
    type="text"
    placeholder="Enter several lines of text here..."
    description="Not the right account? Visit the Manage Linked Accounts page."
    onChange={(name, value) => true}
    value={`Montezuma!!!
Montezuma!!!
Montezuma!!!`}
    multiline
    minRows={2}
  />
</Preview>

```javascript
<Input
  label="Institution Names"
  type="text"
  placeholder="Enter several lines of text here..."
  description="Not the right account? Visit the Manage Linked Accounts page."
  onChange={(name, value) => true}
  value={`Montezuma!!!
Montezuma!!!
Montezuma!!!`}
  multiline
  minRows={2}
/>
```

### Appending

You can append a character to the input by using the `append` prop. The appended character is not considered part of the input value and does _not_ need to be stripped out when working with the data. Certain masks automatically include the appropriate appended character for their type.

<Preview>
  <Input
    append="%"
    label="Institution Name"
    type="text"
    placeholder="Bank Account"
    description="Not the right account? Visit the Manage Linked Accounts page."
    onChange={(name, value) => true}
    value="100"
  />
</Preview>

```javascript
<Input
  append="%"
  label="Institution Name"
  type="text"
  placeholder="Bank Account"
  description="Not the right account? Visit the Manage Linked Accounts page."
  onChange={(name, value) => true}
  value="100"
/>
```

### Prepending

You can prepend a character to the input by using the `prepend` prop. The appended character is not considered part of the input value and does _not_ need to be stripped out when working with the data. Certain masks automatically include the appropriate appended character for their type.

<Preview>
  <Input
    prepend="$"
    label="Institution Name"
    type="text"
    placeholder="Bank Account"
    description="Not the right account? Visit the Manage Linked Accounts page."
    onChange={(name, value) => true}
    value="100"
  />
</Preview>

```javascript
<Input
  prepend="$"
  label="Institution Name"
  type="text"
  placeholder="Bank Account"
  description="Not the right account? Visit the Manage Linked Accounts page."
  onChange={(name, value) => true}
  value="100"
/>
```

### Explanation

The `explanation` prop allows you to add additional text that appears above the input field its self. This prop requires spacing on top of the component, it's absolute positioned and therefore overlays other elements. It also needs to be placed with enough spacing from the top of the screen so it doesn't get cut off.

<Preview>
  <Input
    explanation="This is some explanation text"
    label="Institution Name"
    type="text"
    placeholder="Bank Account"
    description="Not the right account? Visit the Manage Linked Accounts page."
    onChange={(name, value) => true}
    value="Click on me!"
  />
</Preview>

```javascript
<Input
  explanation="This is some explanation text"
  label="Institution Name"
  type="text"
  placeholder="Bank Account"
  description="Not the right account? Visit the Manage Linked Accounts page."
  onChange={(name, value) => true}
  value="Click on me!"
/>
```

### Input Validation

Currently, the `Input` component allows you to validate user input and alert the user through a combination of a few different props. We realized that there may be room for consolidation and have introduced the new `validate` prop. To validate input according to your use case, simply pass in a function to the `validate` prop that returns an empty string when the input is **valid** and returns an error message when the input is **invalid**. The invalid message will be displayed and the `Input` component will automatically trigger into error state for you when an error message is returned. Conversely, when an empty string is returned, the `Input` component will show its valid state. A working example is provided below:

<Preview>
  <Input
    type="text"
    label="Four Letters or Less"
    description="Enter an input smaller than 4 characters"
    placeholder="Small input goes here"
    value="Big Input"
    validate={(input) => {
      if (input.length < 4) {
        return '';
      } else {
        return 'Please enter a valid small input';
      }
    }}
  />
</Preview>

```javascript
<Input
  type="text"
  label="Four Letters or Less"
  description="Enter an input smaller than 4 characters"
  placeholder="Small input goes here"
  value="Big Input"
  validate={(input) => {
    if (input.length < 4) {
      return '';
    } else {
      return 'Please enter a valid small input';
    }
  }}
/>
```

Due to these changes, the `isValid` component will no longer be necessary and **will be deprecated** in a future release of our component library. The other props that the `validate` prop manipulates on your behalf (`error`, `hideValidity`, and `validationErrorMsg`) will remain as-is in order to allow full customizability.

## Props ðŸ”§

<Props of={Input} />

## Related âœ¨

- [InputCard](/?path=/story/complex-organisms-inputcard--active)
